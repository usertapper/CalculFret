<form (ngSubmit)="onSubmit()">
  <div class="col-md-3">
    <label>Ile de Départ</label>
    <select class="form-select" [(ngModel)]="ileDepartId" name="ileDepartId" required>
      <option selected disabled>Choisissez votre île...</option>
      <option *ngFor="let ile of iles" [value]="ile.id">{{ ile.intitule }}</option>
    </select>
  </div>

  <div class="col-md-3">
    <label>Ile d'Arrivée</label>
    <select class="form-select" [(ngModel)]="ileArriveeId" name="ileArriveeId" [disabled]="!ileDepartId" required>
      <option selected disabled>Choisissez votre destination...</option>
      <option *ngFor="let ile of iles" [value]="ile.id" [disabled]="ile.id === ileDepartId">
        {{ ile.intitule }}
      </option>
    </select>
  </div>

  <div class="col-md-3">
    <label>Marchandises</label>
    <select class="form-select" [(ngModel)]="codeTarif" name="codeTarif" required>
      <option selected disabled>Choisissez votre marchandise...</option>
      <option *ngFor="let tarif of tarifsrevatuas" [value]="tarif.code">{{ tarif.intitule }}</option>
    </select>
  </div>

  <div class="container mt-5">
    <div class="text-center">
      <button type="submit" class="btn btn-primary btn-lg me-2">Calculer</button>
      <button type="button" class="btn btn-secondary btn-lg me-2" (click)="resetForm()">Annuler</button>
    </div>
  </div>
</form>

<div class="text-center mt-3">
  <h3>Montant du tarif</h3>
  <p *ngIf="montant !== undefined; else noData">{{ montant }} XPF</p>

  <ng-template #noData>
    <p *ngIf="errorMessage">{{ errorMessage }}</p>
  </ng-template>
</div>
